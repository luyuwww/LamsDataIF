{"name":"LamsDataIF","tagline":"Lams的通用数据接口,提供通用的webservcie接口给第三方软件","body":"业务背景\r\n\t在档案系统验收后可能还会增加其它业务系统进行归档操作；\r\n\t业务系统后期有升级或者版本修改的可能；\r\n\t下属单位的业务系统可能与总部存在不一致的情况；\r\n\r\n调用服务原型\r\n \r\n1.\t档案系统对接说明:\r\n1.1\t档案系统WSDL定义地址: \r\nhttp://localhost/LamsDataIF/cxf/ArcDataWsSingle?wsdl\r\n1.2\t查看xml字段定义顺序url地址为:\r\n1.2.1\t正式服务器\r\nhttp://localhost/LamsDataIF/viewXMLList\r\n\r\n1.2.2\t测试服务器\r\nhttp://localhost/LamsDataIF/viewXMLList\r\n\r\n档案类型\t案卷\t文件\t原文\r\n文书档案\t--\tD_FILE2.XML\tE_FILE2.XML\r\n合同档案\t\tD_FILE6.XML\tE_FILE6.XML\r\n2.\t数据转换\r\n2.1\t调用方通过WSDL生成WebServices-Client\r\n2.2\t共有三个方法可以调用,来添加数据:\r\nfileReciveTxt: txt方式插入, &; 分隔符分割\r\nfileReciveXml: XML方式插入,详见例子\r\nfileReciveJson:JSON数据插入, 详见例子\r\n三个方法的参数都为三个\r\nA.\t相应xml的名称:D_FILE2.xml\r\nB.\t数据的集合\r\nC.\t文档所属人的登录code方法 addField :\r\n3.\tXml 文件描述说明(接口调用方参考):\r\n数据表：\r\n写入数据表在根节点fields表示\r\nTablename 表示要写入表的表名称\r\nFname 表示要写入表的描述表名称，例如F类表（F_D_FILE*）若描述表无可不填写\r\nChname 表示要写入表的中文说明\r\nfield字段中tname节点的各个属性描述： \r\nprimary -- 标识列 1为自增 2不自增 包含该属性的字段默认为标识列\r\nfieldname -- 字段名\t\r\nchname -- 字段描述\r\nfieldtype -- 字段类型 1字符 3数字 11日期\r\nThevalue -- 实际的值\r\n\r\n字段名\t中文描述\t类型\t默认传入值\r\nSTATUS\t状态\t整形\t0\r\nATTR\t记录属性\t整形\t0\r\nATTREX\t扩展属性\t整形\t0\r\nCREATOR\t创建者\t字符\tOA\r\nATTACHED\t原文标示\t字符\t有原文是1，没有原文是0\r\nQZH\t全宗号\t字符\tZCBd\r\nND\t年度\t字符\t\r\nF7\t归档单位\t字符\t\r\nF6\t文件形成者\t字符\t\r\nTitle\t题名\t字符\t\r\nWenhao\t文号\t字符\t\r\nCWRQ\t成文日期\t字符\t\r\nYS\t页数\t数字\t\r\nGDFS\t归档份数\t数字\t1\r\nMJ\t密级\t字符\t\r\nF2\t载体代码\t字符\t\r\n\r\n数据示例:\r\n字段名\t数据1\t数据2\t数据3\r\nSTATUS\t0\t0\t0\r\nATTR\t0\t0\t0\r\nATTREX\t0\t0\t0\r\nCREATOR\tOA\tOA\tOA\r\nDID\t25\t26\t29\r\nQZH\tZCB\tZCB\tZCB\r\nND\t2009\t2010\t2011\r\nF7\tXx部门\tXx单位\tXxx\r\nF6\t办公室\t项目组\tXxx\r\nTitle\t关于XXXXX的通知\t关于XXXXX的通知\t关于XXXXX的通知\r\nWenhao\t中交【123123】号\t\t\r\nCWRQ\t20120909\t\t\r\nYS\t20\t\t\r\nGDFS\t1\t\t\r\nMJ\t秘密\t普通\t\r\nF2\t纸质\t电子/纸质\t\r\n\r\n\r\n电子文件上传\r\nftp服务器地址:  \r\nftp 服务器用户:  \r\nftp 服务器密码:  \r\n\r\n字段名\t中文描述\t类型\t默认传入值\r\nSTATUS\t状态\t整形\t0\r\nATTR\t记录属性\t整形\t0\r\nATTREX\t扩展属性\t整形\t0\r\nCREATOR\t创建者\t字符\tROOT\r\nDID\tId标识\t整形\t0\r\nPID\t对应文件DID值\t整形\t文件添加接口返回值\r\nEFILENAME\tFTP电子文件名\t字符\t接口调用方生成\r\nTITLE\t文件名\t字符\t接口调用方生成\r\nEXT\t后缀名\t字符\t接口调用方生成\r\nPZM\t配置名\t字符\t data\r\nPATHNAME\tFTP存放地址\t字符\t接口调用方生成\r\n\r\n数据示例:\r\n字段名\t数据1\t数据2\t数据3\r\nSTATUS\t0\t0\t0\r\nATTR\t0\t0\t0\r\nATTREX\t0\t0\t0\r\nCREATOR\tROOT\tROOT\tROOT\r\nDID\t25\t26\t29\r\nPID\t1034\t1034\t278\r\nEFILENAME\t{B7B1E-9fes2-C05B78942A57}.pdf\t{334E-4472-C05B784322A57}.pdf\t{F531E-9fes-2278-9A257}.pdf\r\nTITLE\t交办函\t**案件\t有关**的说明\r\nEXT\tpdf\tdoc\tpdf\r\nPZM\tData\tData\tData\r\nPATHNAME\t0001\\E_File0\\2009824\t文件\\2010414\t0002\\E_File0\\2010414\r\n\r\n说明: \r\n1.\tPATHNAME这里存放地址表示为 全宗号\\电子文件表名\\当天日期, 接口调用方可以自己生成相应目录.不与这里一直也可以.建议:OA\\公文类型\\YYYY-MM-DD\\\r\n2.\tPID相同指一个文件级别下挂接多分电子文件\r\n\r\n备注： 具体电子文件可以参考实际档案数据库的电子文件表里面的数据。\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}